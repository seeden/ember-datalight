{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 1f5cbdbf974b71286be6","webpack:///./lib/model.js","webpack:///./lib/adapter.js","webpack:///./lib/index.js","webpack:///external \"Ember\"","webpack:///./lib/modelbase.js","webpack:///./lib/restadapter.js","webpack:///./lib/promiseobject.js","webpack:///./lib/promisearray.js","webpack:///./lib/attribute.js","webpack:///./lib/computedobject.js","webpack:///./lib/restserializer.js","webpack:///./~/web-error/index.js","webpack:///./lib/wrappers/wrapper.js","webpack:///./lib/wrappers/mixed.js","webpack:///./lib/wrappers/object.js","webpack:///./lib/wrappers/string.js","webpack:///./lib/wrappers/number.js","webpack:///./lib/wrappers/boolean.js","webpack:///./lib/wrappers/date.js","webpack:///./lib/wrappers/model.js","webpack:///./lib/wrappers/array.js","webpack:///./lib/jsonserializer.js","webpack:///./~/web-error/~/base-error/index.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;;;;;;;;;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,sB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,cAAa,QAAQ;AACrB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yC;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,EAAC;;AAED;AACA;;AAEA,gCAA+B;AAC/B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,eAAc,kBAAkB;AAChC;AACA,iD;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA,OAAM;AACN;AACA,IAAG;AACH;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA,gCAA+B,iCAAiC;AAChE,IAAG;AACH,iCAAgC,iCAAiC;AACjE;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,aAAY;AACZ;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,qBAAqB;AACpC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;;AAGH;AACA,eAAc,wBAAwB;AACtC;AACA;AACA;AACA;;AAEA;AACA,4B;AACA;;AAEA;AACA,eAAc,yBAAyB;AACvC;AACA;AACA;AACA;;AAEA;AACA,4B;AACA;;AAEA;AACA;AACA,EAAC,E;;;;;;ACpQD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAU;AACV;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;AACA,EAAC,E;;;;;;ACxED;;AAEA;;AAEA,2DAA0D,E;;;;;;ACJ1D,gD;;;;;;ACAA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uB;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG,E;AACH,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA,sBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA,GAAE;AACF,EAAC;;;AAGD;AACA;AACA,6BAA4B;AAC5B;AACA;AACA,G;AACA,EAAC,E;;;;;;ACzLD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAY;AACZ;AACA;AACA,sCAAqC;;AAErC;AACA;;AAEA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;;AAEA,qDAAoD,cAAc;AAClE;AACA,IAAG;AACH,GAAE;;;AAGF;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,0C;AACA;AACA,KAAI;;AAEJ,sDAAqD,aAAa;AAClE;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;AACA;AACA,KAAI;;AAEJ,yDAAwD,aAAa;AACrE;AACA,IAAG;AACH,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;;AAIF;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA,KAAI;AACJ,IAAG;AACH,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;;AAErC;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA,4C;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,oB;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,EAAC,E;;;;;;ACpMD;;AAEA;;AAEA;AACA,mCAAkC;AAClC,EAAC,E;;;;;;ACND;;AAEA;;AAEA,sF;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,E;AACvC;;AAEA;AACA,qDAAoD,eAAe;AACnE;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iC;AACA,KAAI;AACJ;AACA;AACA;;;AAGA,I;;AAEA;AACA;AACA,GAAE;AACF,G;;;;;;AC/FA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA,GAAE;AACF,EAAC,E;;;;;;ACnBD;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAC,E;;;;;;ACRD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAC,S;;;;;;ACnFD;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,uC;AACA,IAAG;AACH,4C;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,KAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,0D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,sD;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA,EAAC,E;;;;;;ACxMD;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,EAAC,E;;;;;;ACdD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,gBAAe;AACf;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;;AAEF;AACA;AACA,KAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA,sBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA,0CAAyC;;AAEzC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,qBAAqB;AACpC,gC;AACA;AACA,IAAG;;AAEH;AACA;AACA,EAAC,E;;;;;;ACvOD;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,EAAC,E;;;;;;ACdD;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;AACF,EAAC,E;;;;;;AClBD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;;AAEA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,EAAC,E;;;;;;ACvBD;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,EAAC,E;;;;;;ACdD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;AACF,EAAC;;;AAGD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC,E;;;;;;ACvDD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,eAAc,gBAAgB;AAC9B;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA,KAAI;AACJ;AACA;AACA,MAAK,E;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,2B;AACA,KAAI,K;AACJ;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA,eAAc,gBAAgB;AAC9B;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAM;AACN;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,KAAI;;AAEJ;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAI;;AAEJ;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;;AAEA,eAAc,gBAAgB;AAC9B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA,6B;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA,eAAc,gBAAgB;AAC9B;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA,eAAc,gBAAgB;AAC9B;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA,EAAC,E;;;;;;AC3ND;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA,eAAc,qBAAqB;AACnC;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,eAAc,iBAAiB;AAC/B;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAgB,eAAe;AAC/B,wC;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAC,E;;;;;;ACpGD;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oC;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAC,S","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Ember\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Ember\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ember-datalight\"] = factory(require(\"Ember\"));\n\telse\n\t\troot[\"ember-datalight\"] = factory(root[\"Ember\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/public/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1f5cbdbf974b71286be6\n **/","'use strict';\r\n\r\nvar Ember = require('ember'),\r\n\tPromise = Ember.RSVP.Promise,\r\n\tWebError = require('web-error'),\r\n\tDataLight = require('./index'),\r\n\tModelBase = require('./modelbase'),\r\n\tRESTAdapter = require('./restadapter'),\r\n\tPromiseObject = require('./promiseobject'),\r\n\tPromiseArray = require('./promisearray'),\r\n\tattribute = require('./attribute');\r\n\r\nvar Model = module.exports = DataLight.Model = ModelBase.extend({\r\n\tadapter: function() {\r\n\t\treturn this.constructor.adapter;\r\n\t}.property(),\r\n\r\n\tsave: function() {\r\n\t\tvar adapter = this.get('adapter'),\r\n\t\t\tisDeleted = this.get('isDeleted');\r\n\r\n\t\tif(isDeleted) {\r\n\t\t\treturn this.destroyRecord();\r\n\t\t}\r\n\r\n\t\tif(this.get('isNew')) {\r\n\t\t\treturn adapter.createRecord(this.constructor, this);\r\n\t\t}\r\n\r\n\t\treturn adapter.updateRecord(this.constructor, this);\r\n\t},\r\n\r\n\tdestroyRecord: function() {\r\n\t\tvar _this = this,\r\n\t\t\tisNew = this.get('isNew'),\r\n\t\t\tisRemoved = this.get('isRemoved'),\r\n\t\t\tadapter = this.get('adapter');\r\n\r\n\t\tthis.set('isDeleted', true);\r\n\r\n\t\treturn new Ember.RSVP.Promise(function(resolve, reject) {\r\n\t\t\tif(isRemoved) {\r\n\t\t\t\treturn resolve();\t\r\n\t\t\t}\r\n\r\n\t\t\tif(isNew) {\r\n\t\t\t\t_this.set('isRemoved', true);\r\n\t\t\t\t//_this.destroy();\r\n\t\t\t\treturn resolve();\r\n\t\t\t}\r\n\r\n\t\t\tadapter.deleteRecord(_this.constructor, _this).then(function() {\r\n\t\t\t\t_this.set('isRemoved', true);\r\n\t\t\t\t//_this.destroy();\r\n\t\t\t}).then(resolve, reject);\r\n\t\t});\r\n\t},\r\n\r\n\tdeleteRecord: function() {\r\n\t\tthis.set('isDeleted', true);\r\n\t},\r\n\r\n\treloadRecord: function() {\r\n\t\t//TODO\r\n\t},\r\n\r\n\t/**\r\n\t * Resolve all relationships\r\n\t * @param  {Boolean} ignoreAsync If it is not true promises with async === true will be ignored\r\n\t * @return {Promise}             [description]\r\n\t */\r\n\tresolveRelationships: function(ignoreAsync) {\r\n\t\tvar _this = this,\r\n\t\t\tpromises = [],\r\n\t\t\tattributes = this.get('attributes');\r\n\r\n\t\tignoreAsync = ignoreAsync || false;\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tvar wrapper = attributes[name];\r\n\r\n\t\t\tif(!ignoreAsync && wrapper.get('async')) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar promise = wrapper.resolveRelationships(ignoreAsync);\r\n\t\t\tif(!promise) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpromises.push(Promise.cast(promise));\t\t\t\r\n\t\t}\r\n\r\n\t\treturn Ember.RSVP.Promise.all(promises).then(function() {\r\n\t\t\treturn _this;\r\n\t\t});\r\n\t}\r\n});\r\n\r\nModel.reopenClass({\r\n\tisModel: true,\r\n\r\n\tadapter: RESTAdapter.create({}),\r\n\tattribute: attribute,\r\n\r\n\tprimaryKey: 'id',\r\n\ttype: null,\r\n\tincluded: [],\r\n\r\n\tresolveMultipleRecords: function(records) {\r\n\t\tvar promises = [];\r\n\r\n\t\tfor(var i=0; i<records.length; i++) {\r\n\t\t\tvar record = records[i];\r\n\t\t\tpromises.push(record.resolveRelationships());\t\r\n\t\t}\r\n\r\n\t\treturn Ember.RSVP.Promise.all(promises);\r\n\t},\r\n\r\n\tfind: function(id) {\r\n\t\tvar type = Ember.typeOf(id);\r\n\r\n\t\tif (type === 'undefined') {\r\n      \t\treturn this.findAll();\r\n    \t} else if (type === 'object') {\r\n\t\t\treturn this.findQuery(id);\r\n\t\t} else if (type === 'array') {\r\n\t\t\treturn this.findMany(id);\r\n\t\t}\r\n\r\n\t\treturn this.findByID(id);\r\n\t},\r\n\r\n\tfindByID: function(id) {\r\n\t\treturn PromiseObject.create({\r\n\t\t\tpromise: this.adapter.findByID(this, id).then(function(record) {\r\n\t\t\t\treturn record.resolveRelationships();\r\n\t\t\t})\r\n\t\t});\r\n\t},\r\n\r\n\tfindAll: function(sinceToken) {\r\n\t\tvar _this = this;\r\n\r\n\t\treturn PromiseArray.create({\r\n\t\t\tpromise: this.adapter.findAll(this, sinceToken).then(function(records) {\r\n\t\t\t\treturn _this.resolveMultipleRecords(records);\r\n\t\t\t})\r\n\t\t});\r\n\t},\r\n\r\n\tfindQuery: function(query) {\r\n\t\tvar _this = this;\r\n\r\n\t\treturn PromiseArray.create({\r\n\t\t\tpromise: this.adapter.findQuery(this, query).then(function(records) {\r\n\t\t\t\treturn _this.resolveMultipleRecords(records);\r\n\t\t\t})\r\n\t\t});\r\n\t},\r\n\r\n\tfindMany: function(ids) {\r\n\t\tvar _this = this;\r\n\r\n\t\treturn PromiseArray.create({\r\n\t\t\tpromise: this.adapter.findMany(this, ids).then(function(records) {\r\n\t\t\t\treturn _this.resolveMultipleRecords(records);\r\n\t\t\t})\r\n\t\t});\r\n\t},\r\n\r\n\t/*\r\n\tpush: function() {\r\n\t\tEmber.Logger.warn('Method push needs cached version of models');\r\n\t},*/\r\n\r\n\tajax: function(url, type, options, isArray) {\r\n\t\tvar Model = this,\r\n\t\t\tserializer = this.adapter.get('serializer');\r\n\r\n\t\tisArray = isArray || false;\r\n\r\n\t\tvar promise = this.adapter.ajax(url, type, options).then(function(data) {\r\n\t\t\treturn serializer.deserialize(Model, null, data, isArray);\r\n\t\t});\r\n\r\n\t\tif(isArray) {\r\n\t\t\treturn PromiseArray.create({ promise: Promise.cast(promise) });\r\n\t\t} else {\r\n\t\t\treturn PromiseObject.create({ promise: Promise.cast(promise) });\r\n\t\t}\r\n\t},\r\n\r\n\tGET: function(url, options, isArray) {\r\n\t\treturn this.ajax(url, 'GET', options, isArray);\r\n\t},\r\n\r\n\tPOST: function(url, options, isArray) {\r\n\t\treturn this.ajax(url, 'POST', options, isArray);\r\n\t},\r\n\r\n\tPUT: function(url, options, isArray) {\r\n\t\treturn this.ajax(url, 'PUT', options, isArray);\r\n\t},\r\n\r\n\tDELETE: function(url, options, isArray) {\r\n\t\treturn this.ajax(url, 'DELETE', options, isArray);\r\n\t},\r\n\r\n\tgetRelatedModels: function(includedModels) {\r\n\t\tvar _this = this,\r\n\t\t\tused = {},\r\n\t\t\tmodels = [];\r\n\r\n\t\tincludedModels = includedModels || [];\r\n\r\n\t\tthis.eachComputedProperty(function(name, meta) {\r\n\t\t\tif(!meta || !meta.wrapperClass) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar modelsAttr = meta.wrapperClass.getRelatedModels();\r\n\t\t\tfor(var i=0; i<modelsAttr.length; i++) {\r\n\t\t\t\tvar model = modelsAttr[i];\r\n\r\n\t\t\t\tif(used[model.type] || _this === model) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmodels.push(model);\r\n\t\t\t\tused[model.type] = true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t\r\n\t\t//additional included models\r\n\t\tfor(var i=0; i<this.included.length; i++) {\r\n\t\t\tvar model = this.included[i];\r\n\t\t\tif(used[model.type] || this === model) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tmodels.push(model);\r\n\t\t\tused[model.type] = true;\t\t\t\r\n\t\t}\r\n\r\n\t\t//additional included models\r\n\t\tfor(var i=0; i<includedModels.length; i++) {\r\n\t\t\tvar model = includedModels[i];\r\n\t\t\tif(used[model.type] || _this === model) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tmodels.push(model);\r\n\t\t\tused[model.type] = true;\t\t\t\r\n\t\t}\r\n\r\n\t\treturn models;\r\n\t}\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/model.js\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Ember = require('ember'),\r\n\tDataLight = require('./index'),\r\n\tPromiseArray = require('./promisearray'),\r\n\tmap = Ember.EnumerableUtils.map,\r\n\tRSVP = Ember.RSVP,\r\n\tPromise = RSVP.Promise;\r\n\r\nvar Adapter = module.exports = DataLight.Adapter = Ember.Object.extend({\r\n\tserializer: null,\r\n\r\n\r\n\tfindByID: Ember.required(Function),\r\n\r\n\t/**\r\n\tThe `findAll()` method is called when you call `find` on the store\r\n\twithout an ID (i.e. `store.find('post')`).\r\n\t*/\r\n\tfindAll: null,\r\n\r\n\t/**\r\n\tThis method is called when you call `find` on the store with a\r\n\tquery object as the second parameter (i.e. `store.find('person', {\r\n\tpage: 1 })`).\r\n\t*/\r\n\tfindQuery: null,\r\n\r\n\r\n\t/**\r\n\tProxies to the serializer's `serialize` method.\r\n\t*/\r\n\tserialize: Ember.required(Function),\r\n\r\n\r\n\t/**\r\n\tImplement this method in a subclass to handle the creation of\r\n\tnew records.\r\n\t*/\r\n\tcreateRecord: Ember.required(Function),\r\n\r\n\t/**\r\n\tImplement this method in a subclass to handle the updating of\r\n\ta record.\r\n\t*/\r\n\tupdateRecord: Ember.required(Function),\r\n\r\n\r\n\t/**\r\n\t * Implement this method in a subclass to handle the deletion of\r\n\t * a record.\r\n\t */\r\n\tdeleteRecord: Ember.required(Function),\r\n\r\n\r\n\t/**\r\n\tFind multiple records at once.\r\n\r\n\tBy default, it loops over the provided ids and calls `find` on each.\r\n\tMay be overwritten to improve performance and reduce the number of\r\n\tserver requests.\r\n\t*/\r\n\tfindMany: function(model, ids) {\r\n\t\tvar self = this;\r\n\t\tvar promise = Ember.RSVP.all(map(ids, function(id) {\r\n\t\t\treturn self.findByID(model, id);\r\n\t\t}));\r\n\r\n\t\treturn PromiseArray.create({\r\n\t\t\tpromise: Promise.cast(promise)\r\n\t\t});\r\n\t}\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/adapter.js\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Ember = require('ember');\r\n\r\nvar DataLight = module.exports = Ember.Namespace.create({});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/index.js\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Ember\"\n ** module id = 4\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Ember = require('ember'),\r\n\tDataLight = require('./index'),\r\n\tComputedObject = require('./computedobject');\r\n\r\nvar ModelBase = module.exports = DataLight.ModelBase = Ember.Object.extend({\r\n\tisNew: true,\r\n\tisDeleted: false,\r\n\tisRemoved: false,\r\n\r\n\tdirtyCount: 0,\r\n\tdirtyNames: [],\r\n\r\n\tinit: function() {\r\n\t\tthis._super();\r\n\r\n\t\tvar dirtyCount = 0,\r\n\t\t\tattributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tattributes[name].set('parent', this);\r\n\t\t}\r\n\r\n\t\t//recompute dirty\r\n\t\tthis.childChanged();\t\r\n\t},\r\n\r\n\tgetWrapper: function(name) {\r\n\t\tvar _this = this,\r\n\t\t\twrapper = null;\r\n\r\n\t\tthis.constructor.eachComputedProperty(function(wrapperName, meta) {\r\n\t\t\tif (wrapperName!==name) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\twrapper = meta.getWrapper(_this, name);\r\n\t\t});\r\n\r\n\t\treturn wrapper;\r\n\t},\t\r\n\r\n\tattributes: function() {\r\n\t\tvar _this = this,\r\n\t\t\tmap = {};\r\n\r\n\t\tthis.constructor.eachComputedProperty(function(name, meta) {\r\n\t\t\tif (!meta || !meta.isAttribute) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tmap[name] = meta.getWrapper(_this, name);\r\n\t\t});\r\n\r\n\t\treturn map;\r\n\t}.property(),\r\n\r\n\tchildChanged: function(child) {\r\n\t\tvar dirtyCount = 0,\r\n\t\t\tdirtyNames = [],\r\n\t\t\tattributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tvar wrapper = attributes[name];\r\n\r\n\t\t\tif(wrapper === child) {\r\n\t\t\t\tthis.propertyDidChange(name);\r\n\t\t\t}\r\n\r\n\t\t\tif(!wrapper.get('isDirty')) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tdirtyCount++;\r\n\t\t\tdirtyNames.push(name);\r\n\t\t}\r\n\r\n\t\tthis.setProperties({\r\n\t\t\tdirtyCount: dirtyCount,\r\n\t\t\tdirtyNames: dirtyNames\r\n\t\t});\t\r\n\t},\r\n\r\n\tisDirty: function() {\r\n\t\treturn this.get('dirtyCount')>0;\r\n\t}.property('dirtyCount').readOnly(),\r\n\r\n\tdirtyAttributes: function() {\r\n\t\tvar dirty = Ember.Map.create(),\r\n\t\t\tattributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tvar wrapper = attributes[name];\r\n\t\t\tif(wrapper.get('isDirty')) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tdirty.set(name, wrapper);\r\n\t\t}\r\n\r\n\t\treturn dirty;\r\n\t}.property('dirtyCount', 'dirtyNames').readOnly(),\r\n\r\n\trollback: function() {\r\n\t\tvar attributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tattributes[name].rollback();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetAsOriginal: function() {\r\n\t\tvar attributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tattributes[name].setAsOriginal();\r\n\t\t}\r\n\r\n\t\tthis.set('isNew', false);\r\n\t\treturn this;\r\n\t},\r\n\r\n\ttoJSON: function(fn) {\r\n\t\tvar properties = {},\r\n\t\t\tattributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tvar wrapper = attributes[name];\r\n\t\t\tif(fn && fn(name, wrapper) === false) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tproperties[name] = wrapper.toJSON(fn, this);\r\n\t\t}\r\n\r\n\t\treturn properties;\r\n\t},\r\n\r\n\tsetupData: function(data, partial, rollback) {\r\n\t\tvar json = this.toJSON();\r\n\r\n\t\tif (partial) {\r\n\t\t\tEmber.merge(json, data);\r\n\t\t} else {\r\n\t\t\tjson = data;\r\n\t\t}\r\n\r\n\t\tif(rollback) {\r\n\t\t\tthis.rollback();\r\n\t\t}\r\n\r\n\t\tvar attributes = this.get('attributes');\r\n\t\tfor(var name in attributes) {\r\n\t\t\tattributes[name].setupData(data[name], partial);\r\n\t\t}\r\n\r\n\t\tthis.setAsOriginal(json);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tadopt: function(record) {\r\n\t\tvar data = record.toJSON();\r\n\t\tthis.setupData(data, false, true);\r\n\t}\r\n\r\n\r\n\t/*************  PART BOTTOM IS NOT READY FOR NEW STRUCTURE  **************/\r\n\t/*copy: function() {\r\n\t\tvar properties = this.getProperties(['isNew', 'isDeleted', 'isRemoved']);\r\n\t\tvar data = Ember.$.extend({}, properties);\r\n\t\treturn this.constructor.create(data);\r\n\t}*/\r\n});\r\n\r\n\r\nModelBase.reopenClass({\r\n\tbuildRecord: function(data) {\r\n\t\tvar model = this.create({});\r\n\t\tmodel.setupData(data);\r\n\t\treturn model;\r\n\t}\t\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/modelbase.js\n ** module id = 5\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Ember = require('ember'),\r\n\tWebError = require('web-error'),\r\n\tDataLight = require('./index'),\r\n\tAdapter = require('./adapter'),\r\n\tRESTSerializer = require('./restserializer');\r\n\r\nvar type = {\r\n\tGET: 'GET',\r\n\tPOST: 'POST',\r\n\tPUT: 'PUT',\r\n\tDELETE: 'DELETE'\r\n};\r\n\r\nvar RESTAdapter = module.exports = DataLight.RESTAdapter = Ember.Object.extend({\r\n\theaders: {},\r\n\thost: null,\r\n\tnamespace: null,\r\n\tserializer: RESTSerializer.create({}),\r\n\r\n\tfindByID: function(Model, id) {\r\n\t\tvar serializer = this.get('serializer');\r\n\r\n\t\treturn this.ajax(this.buildURL(Model, id), type.GET).then(function(data) {\r\n\t\t\treturn serializer.deserialize(Model, null, data);\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\tThe `findAll()` method is called when you call `find` on the store\r\n\twithout an ID (i.e. `store.find('post')`).\r\n\t*/\r\n\tfindAll: function(Model, sinceToken) {\r\n\t\tvar query;\r\n\r\n    \tif (sinceToken) {\r\n      \t\tquery = {\r\n      \t\t\tsince: sinceToken\r\n      \t\t};\r\n    \t}\r\n\r\n\t\treturn this.findQuery(Model, query);\r\n\t},\r\n\r\n\t/**\r\n\tThis method is called when you call `find` on the store with a\r\n\tquery object as the second parameter (i.e. `store.find('person', {\r\n\tpage: 1 })`).\r\n\t*/\r\n\tfindQuery: function(Model, query) {\r\n\t\tvar serializer = this.get('serializer');\r\n\r\n\t\treturn this.ajax(this.buildURL(Model), type.GET, { data: query }).then(function(data) {\r\n\t\t\treturn serializer.deserialize(Model, null, data, true);\r\n\t\t});\r\n\t},\r\n\r\n\r\n\tserialize: function(Model, record, options) {\r\n\t\toptions = options || {};\r\n\r\n\t\treturn this.get('serializer').serialize(Model, record, options);\r\n\t},\r\n\r\n\r\n\t/**\r\n\tImplement this method in a subclass to handle the creation of\r\n\tnew records.\r\n\t*/\r\n\tcreateRecord: function(Model, record) {\r\n\t\tvar serializer = this.get('serializer'),\r\n\t\t\tdata = this.serialize(Model, record, { \r\n\t\t\t\ttype: type.POST \r\n\t\t\t});\r\n\r\n\t\treturn this.ajax(this.buildURL(Model), type.POST, { data: data }).then(function(data) {\r\n\t\t\treturn serializer.deserialize(Model, record, data);\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\tImplement this method in a subclass to handle the updating of\r\n\ta record.\r\n\t*/\r\n\tupdateRecord: function(Model, record) {\r\n\t\tvar serializer = this.get('serializer'),\r\n\t\t\tid = record.get(Model.primaryKey),\r\n\t\t\tdata = this.serialize(Model, record, { \r\n\t\t\t\ttype: type.PUT \r\n\t\t\t});\r\n\r\n\t\treturn this.ajax(this.buildURL(Model, id), type.PUT, { data: data }).then(function(data) {\r\n\t\t\treturn serializer.deserialize(Model, record, data);\r\n\t\t});\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Implement this method in a subclass to handle the deletion of\r\n\t * a record.\r\n\t */\r\n\tdeleteRecord: function(Model, record) {\r\n\t\tvar id = record.get(Model.primaryKey);\r\n\r\n\t\treturn this.ajax(this.buildURL(Model, id), type.DELETE);\r\n\t},\r\n\r\n\r\n\r\n\tajax: function(url, type, options) {\r\n\t\tvar _this = this,\r\n\t\t\toptions = this._ajaxOptions(url, type, options);\r\n\r\n\t\treturn new Ember.RSVP.Promise(function (resolve, reject) {\r\n\t\t\tEmber.$.ajax(options).then(function(data) {\r\n\t\t\t\tEmber.run(null, resolve, data);\r\n\t\t\t}, function(response) {\r\n\t\t\t\tEmber.run(null, reject, _this._responseToError(response));\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\r\n\t_prepareURL: function(url) {\r\n\t\tvar host = this.get('host'),\r\n\t\t\tnamespace = this.get('namespace');\r\n\r\n\t\tif(namespace) {\r\n\t\t\turl = namespace + url;\r\n\t\t}\r\n\r\n\t\tif(host) {\r\n\t\t\turl = host + url;\r\n\t\t}\r\n\r\n\t\treturn url;\r\n\t},\r\n\r\n\t_ajaxOptions: function(url, type, options) {\r\n\t\toptions = options || {};\r\n\t\toptions.url = this._prepareURL(url);\r\n\t\toptions.type = type;\r\n\t\toptions.dataType = 'json';\r\n\t\toptions.context = this;\r\n\t\toptions.headers = Ember.$.extend({}, this.get('headers'), options.headers);\r\n\r\n\t\treturn options;\r\n\t},\r\n\r\n\t_responseToError: function(response) {\r\n\t\tvar message = response.responseTest || response.statusText || 'Unknown error',\r\n\t\t\tstatus = response.status || 500;\r\n\r\n\t\tif(response.responseJSON && response.responseJSON.message) {\r\n\t\t\tmessage = response.responseJSON.message;    \r\n\t\t}\r\n\r\n\t\treturn new WebError(status, message);\r\n\t},\r\n\r\n\tbuildURL: function(Model, id) {\r\n\t\tvar url = '/' + this.pathForType(Model);\r\n\t\tif(id) {\r\n\t\t\turl += '/' + id;\t\r\n\t\t}\r\n\r\n\t\treturn url;\r\n\t},\r\n\r\n\tpathForType: function(Model) {\r\n\t\tif(!Model.type) {\r\n\t\t\tthrow new Error('Model type is undefined');\r\n\t\t}\r\n\r\n\t\tif(Model.typePlural) {\r\n\t\t\treturn Model.typePlural;\r\n\t\t}\r\n\r\n\t\treturn Model.type + 's';\r\n\t},\r\n\r\n\tGET: function(url, options) {\r\n\t\treturn this.ajax(url, type.GET, options);\r\n\t},\r\n\r\n\tPOST: function(url, options) {\r\n\t\treturn this.ajax(url, type.POST, options);\r\n\t},\r\n\r\n\tPUT: function(url, options) {\r\n\t\treturn this.ajax(url, type.PUT, options);\r\n\t},\r\n\r\n\tDELETE: function(url, options) {\r\n\t\treturn this.ajax(url, type.DELETE, options);\r\n\t}\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/restadapter.js\n ** module id = 6\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Ember = require('ember');\r\n\r\nvar PromiseObject = module.exports = Ember.ObjectProxy.extend(Ember.PromiseProxyMixin, {\r\n\t//content: Ember.Object.create({})\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/promiseobject.js\n ** module id = 7\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Ember = require('ember');\r\n\r\nvar PromiseArray = module.exports = Ember.ArrayProxy.extend(Ember.PromiseProxyMixin);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/promisearray.js\n ** module id = 8\n ** module chunks = 0\n **/","var Ember = require('ember'),\r\n\t$ = Ember.$,\r\n\tDataLight = require('./index'),\r\n\tModelBase = require('./modelbase'),\r\n\tComputedObject = require('./computedobject'),\r\n\tWrapper = require('./wrappers/wrapper'),\r\n\tMixedWrapper = require('./wrappers/mixed'),\r\n\tObjectWrapper = require('./wrappers/object'),\r\n\tStringWrapper = require('./wrappers/string'),\r\n\tNumberWrapper = require('./wrappers/number'),\r\n\tBooleanWrapper = require('./wrappers/boolean'),\r\n\tDateWrapper = require('./wrappers/date'),\r\n\tModelWrapper = require('./wrappers/model'),\r\n\tArrayWrapper = require('./wrappers/array');\r\n\r\nfunction getWrapperClass(type) {\r\n\tvar typeOfType = Ember.typeOf(type),\r\n\t\twrapper = null;\r\n\r\n\tif(!type) {\r\n\t\twrapper = MixedWrapper;\r\n\t} else if(type === String) {\r\n\t\twrapper = StringWrapper;\r\n\t} else if(type === Number) {\r\n\t\twrapper = NumberWrapper;\r\n\t} else if(type === Boolean) {\r\n\t\twrapper = BooleanWrapper;\r\n\t} else if(type === Date) {\r\n\t\twrapper = DateWrapper;\r\n\t} else if(type.isWrapper) {\r\n\t\t//user added instance of wrapper as parameter\r\n\t\twrapper = type;\r\n\t} else if(type.isModel) {\r\n\t\t//user added model class as parameter\r\n\t\twrapper = ModelWrapper.extend({\r\n\t\t\tmodel: type\r\n\t\t});\r\n\t} else if(typeOfType === 'array') {\r\n\t\tif(type.length>1) {\r\n\t\t\tthrow new Error('Array wrapper can handle max one parameter');\r\n\t\t}\r\n\r\n\t\twrapper = ArrayWrapper.extend({\r\n\t\t\twrapperClass: getWrapperClass(type[0])\r\n\t\t});\r\n\t} else if(typeOfType === 'object') {\r\n\t\twrapper = ObjectWrapper.extend({\r\n\t\t\tcomputedObject: ComputedObject.extend(type)\r\n\t\t});\r\n\t}\r\n\r\n\tif(!wrapper){\r\n\t\tthrow new Error('Type of wrapper is unrecognized');\r\n\t}\r\n\r\n\treturn wrapper;\r\n}\r\n\r\nvar attribute = DataLight.attribute = module.exports =  function attribute(type, options) {\r\n\tvar wrapperClass = getWrapperClass(type);\r\n\r\n\tvar meta = {\r\n\t\tisAttribute: true,\r\n\t\twrapperClass: wrapperClass,\r\n\t\tgetWrapper: function(obj, name) {\r\n\t\t\tvar wrappers = obj.get('__wrappers');\r\n\t\t\tif(!wrappers) {\r\n\t\t\t\tobj.set('__wrappers', wrappers = {});\t\r\n\t\t\t}\r\n\r\n\t\t\tif(!wrappers[name]) {\r\n\t\t\t\twrappers[name] = wrapperClass.create($.extend({}, options || {}));\r\n\t\t\t}\r\n\r\n\t\t\treturn wrappers[name];\r\n\t\t}\r\n\t};\r\n\r\n\treturn Ember.computed(function(key, value) {\r\n\t\tvar wrapper = meta.getWrapper(this, key);\r\n\r\n\t\tif (arguments.length > 1) {\r\n\t\t\ttry {\r\n\t\t\t\twrapper.set('value', value);\t\r\n\t\t\t} catch(e) {\r\n\t\t\t\tconsole.log('PROBLEM WITH>'+key);\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t} \r\n\r\n\t\t//default behavior is computed for templates, value is used for storing to database\r\n\t\treturn wrapper.get('computed');\r\n\t}).meta(meta);\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/attribute.js\n ** module id = 9\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Ember = require('ember');\r\n\r\nvar ComputedObject = module.exports = Ember.Object.extend({\r\n\tattributes: Ember.computed(function() {\r\n\t\tvar _this = this,\r\n\t\t\tmap = {};\r\n\r\n\t\tthis.constructor.eachComputedProperty(function(name, meta) {\r\n\t\t\tif (!meta || !meta.isAttribute) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tmap[name] = meta.getWrapper(_this, name);\r\n\t\t});\r\n\r\n\t\treturn map;\r\n\t})\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/computedobject.js\n ** module id = 10\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Ember = require('ember'),\r\n\tDataLight = require('./index'),\r\n\tJSONSerializer = require('./jsonserializer');\r\n\r\nvar RESTSerializer = module.exports = DataLight.RESTSerializer = JSONSerializer.extend({\r\n\t\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/restserializer.js\n ** module id = 11\n ** module chunks = 0\n **/","(function (root) {\r\n\t'use strict';\r\n\r\n\tfunction defineWebError (BaseError) {\r\n\t\tfunction WebError (status, message, constructorOpt) {\r\n\t\t\tthis.status = status || 500;\r\n\t\t\tmessage = message || STATUS_CODES[this.status];\r\n\r\n\t\t\tBaseError.call(this, message, constructorOpt || WebError);\r\n\t\t}\r\n\r\n\t\tWebError.prototype = new BaseError(); \r\n\t\tWebError.prototype.name = 'WebError';\r\n\t\tWebError.STATUS_CODES = STATUS_CODES;\r\n\r\n\t\treturn WebError;\r\n\t}\r\n\r\n\tvar STATUS_CODES = {\r\n\t\t400: \"Bad Request\",\r\n\t\t401: \"Unauthorized\",\r\n\t\t402: \"Payment Required\",\r\n\t\t403: \"Forbidden\",\r\n\t\t404: \"Not Found\",\r\n\t\t405: \"Method Not Allowed\",\r\n\t\t406: \"Not Acceptable\",\r\n\t\t407: \"Proxy Authentication Required\",\r\n\t\t408: \"Request Timeout\",\r\n\t\t409: \"Conflict\",\r\n\t\t410: \"Gone\",\r\n\t\t411: \"Length Required\",\r\n\t\t412: \"Precondition Failed\",\r\n\t\t413: \"Request Entity Too Large\",\r\n\t\t414: \"Request-URI Too Long\",\r\n\t\t415: \"Unsupported Media Type\",\r\n\t\t416: \"Requested Range Not Satisfiable\",\r\n\t\t417: \"Expectation Failed\",\r\n\t\t418: \"I'm a Teapot\", // (RFC 2324) http://tools.ietf.org/html/rfc2324\r\n\t\t420: \"Enhance Your Calm\", // Returned by the Twitter Search and Trends API when the client is being rate limited\r\n\t\t422: \"Unprocessable Entity\", // (WebDAV) (RFC 4918)\r\n\t\t423: \"Locked\", // (WebDAV) (RFC 4918)\r\n\t\t424: \"Failed Dependency\", // (WebDAV) (RFC 4918)\r\n\t\t425: \"Unordered Collection\", // (RFC 3648)\r\n\t\t426: \"Upgrade Required\", // (RFC 2817)\r\n\t\t428: \"Precondition Required\",\r\n\t\t429: \"Too Many Requests\", // Used for rate limiting\r\n\t\t431: \"Request Header Fields Too Large\",\r\n\t\t444: \"No Response\", // An nginx HTTP server extension. The server returns no information to the client and closes the connection (useful as a deterrent for malware).\r\n\t\t449: \"Retry With\", // A Microsoft extension. The request should be retried after performing the appropriate action.\r\n\t\t450: \"Blocked By Windows Parental Controls\",\r\n\t\t499: \"Client Closed Request\",\r\n\t\t500: \"Internal Server Error\",\r\n\t\t501: \"Not Implemented\",\r\n\t\t502: \"Bad Gateway\",\r\n\t\t503: \"Service Unavailable\",\r\n\t\t504: \"Gateway Timeout\",\r\n\t\t505: \"HTTP Version Not Supported\",\r\n\t\t506: \"Variant Also Negotiates\",\r\n\t\t507: \"Insufficient Storage\",\r\n\t\t508: \"Loop Detected\",\r\n\t\t509: \"Bandwidth Limit Exceeded\",\r\n\t\t510: \"Not Extended\",\r\n\t\t511: \"Network Authentication Required\"\r\n\t};\t\r\n\r\n\t//Exports\r\n\t//AMD\r\n\tif (typeof define !== 'undefined' && define.amd) {\r\n\t\tdefine(['base-error'], function (BaseError) {\r\n\t\t\treturn defineWebError(BaseError);\r\n\t\t});\r\n\t}\r\n\r\n\t//CommonJS\r\n\telse if (typeof module !== 'undefined' && module.exports) {\r\n\t\tmodule.exports = defineWebError(require('base-error'));\r\n\t}\r\n\r\n\t//Script tag\r\n\telse {\r\n\t\troot.WebError = defineWebError(root.BaseError);\r\n\t}\r\n\r\n} (this));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/web-error/index.js\n ** module id = 12\n ** module chunks = 0\n **/","var Ember = require('ember');\r\n\r\nvar Wrapper = module.exports = Ember.Object.extend(Ember.Copyable, {\r\n\t__value: void 0, //set as undefined\r\n\t__defaultValue: void 0,\r\n\r\n\toriginal: void 0, //stored value that can be different from default value\r\n\r\n\tname: null,  //custom name for toJSON  - not implemented\r\n\treadOnly: false,\r\n\r\n\tcanBeNull: true,\r\n\tcanBeUndefined: true,\r\n\r\n\thandleNull: true,\r\n\thandleUndefined: true,\r\n\r\n\tparent: null,\r\n\r\n\tinit: function() {\r\n\t\tthis._super();\r\n\r\n\t\tvar props = this.getProperties(['value', 'defaultValue', 'canBeNull', 'canBeUndefined']);\r\n\r\n\t\tif(!props.canBeNull && (props.value === null || props.defaultValue === null)) {\r\n\t\t\tthrow new Error('Can not be null');\t\r\n\t\t} else if(!props.canBeUndefined && (typeof props.value === 'undefined' || typeof props.defaultValue === 'undefined')) {\r\n\t\t\tthrow new Error('Can not be undefined');\t\r\n\t\t}\r\n\t},\r\n\r\n\ttoJSON: function(fn) {\r\n\t\treturn this.get('value');\r\n\t},\r\n\r\n\tcopy: function() {\r\n\t\tproperties = ['value', 'original', 'defaultValue', 'name', 'readOnly', 'canBeNull', 'canBeUndefined', 'handleNull', 'handleUndefined'];\r\n\t\treturn this.constructor.create(this.getProperties(properties));\r\n\t},\r\n\r\n\tvalue: function(key, value) {\r\n\t\t// setter\r\n\t\tif (arguments.length > 1) {\r\n\t\t\tif(this.get('readOnly')) {\r\n\t\t\t\tthrow new Error('Variable is read only');\r\n\t\t\t} else if(value === null && !this.get('canBeNull')) {\r\n\t\t\t\tthrow new Error('Can not be null');\r\n\t\t\t} else if(typeof value === 'undefined' && !this.get('canBeUndefined')) {\r\n\t\t\t\tthrow new Error('Can not be undefined');\r\n\t\t\t}\r\n\r\n\t\t\tthis.set('__value', this._preSerialize(value));\r\n\t\t}\r\n\r\n\t\t//getter\r\n\t\tvar actualValue = this._preDeserialize(this.get('__value'));\r\n\r\n\t\tif(typeof actualValue === 'undefined') {\r\n\t\t\tactualValue = this.get('defaultValue');\r\n\t\t}\r\n\r\n\t\treturn actualValue;\r\n\t}.property('__value', 'defaultValue'),\r\n\r\n\tdefaultValue: function(key, value) {\r\n\t\tif (arguments.length > 1) {\r\n\t\t\tthis.set('__defaultValue', this._preSerialize(value));\t\r\n\t\t}\r\n\r\n\t\tvar defaultValue = this.get('__defaultValue');\r\n\t\tif(typeof defaultValue === 'function') {\r\n\t\t\tdefaultValue = defaultValue();\r\n\t\t}\r\n\r\n\t\treturn this._preDeserialize(defaultValue);\r\n\t}.property(),\r\n\r\n\t/*\r\n\toriginal: function(key, value) {\r\n\t\tif (arguments.length > 1) {\r\n\t\t\tthis.set('__original', this._preSerialize(value));\t\r\n\t\t}\r\n\r\n\t\treturn this._preDeserialize(this.get('__original'));\r\n\t}.property('__original'),*/\r\n\r\n\tsetAsOriginal: function() {\r\n\t\tthis.set('original', this.get('value'));\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_preSerialize: function(value) {\r\n\t\tif(value === null && this.get('handleNull')) {\r\n\t\t\treturn value;\r\n\t\t} else if(typeof value === 'undefined' && this.get('handleUndefined')) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\treturn this._serialize(value);\r\n\t},\r\n\r\n\t_preDeserialize: function(value) {\r\n\t\tif(value === null && this.get('handleNull')) {\r\n\t\t\treturn value;\r\n\t\t} else if(typeof value === 'undefined' && this.get('handleUndefined')) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\treturn this._deserialize(value);\r\n\t},\t\r\n\r\n\t//set value\r\n\t_serialize: function(value) {\r\n\t\tthrow new Error('Serialize is not implemented');\r\n\t},\r\n\r\n\t//get value\r\n\t_deserialize: function(value) {\r\n\t\tthrow new Error('Deserialize is not implemented');\r\n\t},\r\n\r\n\tisDefined: function() {\r\n\t\treturn typeof this.get('value') !== 'undefined';\r\n\t}.property('value').readOnly(),\r\n\r\n\tisNull: function() {\r\n\t\treturn this.get('value') === null;\r\n\t}.property('value').readOnly(),\r\n\r\n\trollback: function() {\r\n\t\tif(this.get('readOnly')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.set('value', this.get('original'));\r\n\t},\r\n\r\n\tisDirty: function() {\r\n\t\tvar props = this.getProperties('value', 'original', 'defaultValue');\r\n\r\n\t\treturn props.value !== props.defaultValue && props.value !== props.original;\r\n\t}.property('value', 'original', 'defaultValue').readOnly(),\r\n\r\n\tchanged: function() {\r\n\t\tvar parent = this.get('parent');\r\n\t\tif(!parent) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tparent.childChanged(this);\r\n\t}.observes('value', 'original'),//original because isdirty\r\n\r\n\tparentChanged: function() {\r\n\t\tvar parent = this.get('parent');\r\n\t\tif(!parent) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tparent.childChanged(this);\r\n\t}.observes('parent'),\t\r\n\r\n\tchildChanged: function() {\r\n\t\tthrow new Error('Method childChanged is not implemented');\r\n\t},\r\n\r\n\t/**\r\n\t * This function is used for templates\r\n\t * @return {[type]} [description]\r\n\t */\r\n\tcomputed: function() {\r\n\t\treturn this.get('value');\r\n\t}.property('value').readOnly(),\r\n\r\n\tisEmpty: function () {\r\n\t\treturn Ember.isEmpty(this.get('value'));\r\n\t}.property('value').readOnly(),\r\n\r\n\tisBlank: function() {\r\n\t\treturn Ember.isBlank(this.get('value'));\r\n\t}.property('value').readOnly(),\r\n\r\n  \tresolveRelationships: function(ignoreAsync) {\r\n\t\tif(!ignoreAsync && this.get('async')) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn this.get('computed');\r\n\t},\r\n\r\n\tsetupData: function(data, partial) {\r\n\t\tthis.set('__value', this._preSerialize(data));\r\n\t}\r\n});\r\n\r\nWrapper.reopenClass({\r\n\tisWrapper: true,\r\n\r\n\tgetRelatedModels: function() {\r\n\t\treturn [];\r\n\t}\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wrappers/wrapper.js\n ** module id = 13\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Wrapper = require('./wrapper');\r\n\r\nvar MixedWrapper = module.exports = Wrapper.extend({\r\n\t//set value\r\n\t_serialize: function(value) {\r\n\t\treturn value;\r\n\t},\r\n\r\n\t//get value\r\n\t_deserialize: function(value) {\r\n\t\treturn value;\r\n\t}\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wrappers/mixed.js\n ** module id = 14\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Ember = require('ember'),\r\n\tPromise = Ember.RSVP.Promise,\r\n\tWrapper = require('./wrapper'),\r\n\tComputedObject = require('../computedobject');\r\n\r\nvar ObjectWrapper = module.exports = Wrapper.extend({\r\n\tdirtyCount: 0,\r\n\tdirtyNames: [],\r\n\r\n\tcomputedObject: function() {\r\n\t\treturn this.constructor.computedObject;\r\n\t}.property().readOnly(),\r\n\r\n\tinit: function() {\r\n\t\tvar computedObject = this.get('computedObject');\r\n\t\tif(!computedObject) {\r\n\t\t\tthrow new Error('ObjectWrapper class need computedObject defined');\r\n\t\t}\r\n\r\n\t\t//init object with actual values\r\n\t\tvar obj = this.get('__value');\r\n\t\tif(!obj) {\r\n\t\t\tthis.set('__value', computedObject.create());\r\n\t\t}\r\n\r\n\t\t//super must be here because value is not defined\r\n\t\tthis._super();\r\n\r\n\t\t//set parent \r\n\t\tvar attributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tattributes[name].set('parent', this);\r\n\t\t}\r\n\r\n\t\t//recompute dirty\r\n\t\tthis.propertyDidChange('value');\r\n\t},\r\n\r\n\tgetWrapper: function(wrapperName) {\r\n\t\tvar wrapper = null,\r\n\t\t\tattributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tif (wrapperName===name) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\twrapper = attributes[name];\r\n\t\t}\r\n\r\n\t\treturn wrapper;\r\n\t},\t\r\n\r\n\tattributes: function() {\r\n\t\tvar value = this.get('__value');\r\n\t\tif(!value) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\r\n\t\treturn value.get('attributes');\r\n\t}.property('__value'),\r\n\r\n\t//set value\r\n\t_serialize: function(properties) {\r\n\t\tvar computedObject = this.get('computedObject'),\r\n\t\t\tobj = this.get('__value');\r\n\r\n\t\tif(!computedObject) {\r\n\t\t\tthrow new Error('ObjectWrapper class need computedObject defined');\r\n\t\t}\r\n\r\n\t\tif(!obj) {\r\n\t\t\tthis.set('__value', obj = computedObject.create());\r\n\t\t}\r\n\r\n\t\tobj.setProperties(properties);\r\n\r\n\t\treturn obj;\r\n\t},\r\n\r\n\t//get value\r\n\t_deserialize: function(obj) {\r\n\t\tvar data = {},\r\n\t\t\tattributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tdata[name] = attributes[name].get('value');\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t},\r\n\r\n\trollback: function() {\r\n\t\tvar attributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tattributes[name].rollback();\r\n\t\t}\r\n\t},\r\n\r\n  \tsetAsOriginal: function() {\r\n\t\tvar attributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tattributes[name].setAsOriginal();\r\n\t\t}\r\n\t},\r\n\r\n\tchildChanged: function(child) {\r\n\t\tvar dirtyCount = 0,\r\n\t\t\tdirtyNames = [],\r\n\t\t\tattributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tvar wrapper = attributes[name];\r\n\r\n\t\t\tif(wrapper === child) {\r\n\t\t\t\tthis.propertyDidChange(name);\r\n\r\n\t\t\t\t//notify base object about changes\r\n\t\t\t\tthis.get('__value').propertyDidChange(name);\r\n\t\t\t}\r\n\r\n\t\t\tif(!wrapper.get('isDirty')) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tdirtyCount++;\r\n\t\t\tdirtyNames.push(name);\r\n\t\t}\r\n\r\n\t\tthis.setProperties({\r\n\t\t\tdirtyCount: dirtyCount,\r\n\t\t\tdirtyNames: dirtyNames\r\n\t\t});\r\n\r\n\t\t//notify parent\r\n\t\tvar parent = this.get('parent');\r\n\t\tif(!parent) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tparent.childChanged(this);\r\n\t},\r\n\r\n\tisDirty: function() {\r\n\t\treturn this.get('dirtyCount')>0;\r\n\t}.property('dirtyCount').readOnly(),\r\n\r\n\tcomputed: function() {\r\n  \t\treturn this.get('__value');\r\n  \t}.property('__value').readOnly(),\r\n\r\n\r\n  \tresolveRelationships: function(ignoreAsync) {\r\n  \t\tvar promises = [],\r\n  \t\t\tattributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tpromises.push(attributes[name].resolveRelationships(ignoreAsync));\r\n\t\t}\r\n\r\n\t\treturn Promise.all(promises);\r\n\t},\r\n\r\n\tsetupData: function(data, partial) {\r\n\t\tvar json = this.get('value'),\r\n\t\t\tattributes = this.get('attributes');\r\n\t\t\t\r\n\t\tdata = data || {};\r\n\r\n\t\tif (partial) {\r\n\t\t\tEmber.merge(json, data);\r\n\t\t} else {\r\n\t\t\tjson = data;\r\n\t\t}\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tattributes[name].setupData(json[name], partial);\r\n\t\t\tthis.propertyDidChange(name);\r\n\t\t}\r\n\r\n\t\tthis.setAsOriginal(json);\r\n\t\tthis.propertyDidChange('value');\r\n\t\treturn this;\r\n\t},\r\n\r\n\ttoJSON: function(fn, parent) {\r\n\t\tvar properties = {},\r\n\t\t\tattributes = this.get('attributes');\r\n\r\n\t\tfor(var name in attributes) {\r\n\t\t\tvar wrapper = attributes[name];\r\n\t\t\tif(fn && fn(name, wrapper) === false) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tproperties[name] = wrapper.toJSON(fn, this);\r\n\t\t}\r\n\r\n\t\treturn properties;\r\n\t}\r\n});\r\n\r\nObjectWrapper.reopenClass({\r\n\tisObjectWWW: true, \r\n\tcomputedObject: ComputedObject.extend({}),\r\n\r\n\tgetRelatedModels: function() {\r\n\t\tvar models = [];\r\n\r\n\t\tif(!this.computedObject || !this.computedObject.eachComputedProperty) {\r\n\t\t\tthrow new Error('computedObject is not extended class from ComputedObject');\r\n\t\t}\r\n\r\n\t\tthis.computedObject.eachComputedProperty(function(name, meta) {\r\n\t\t\tif(!meta || !meta.wrapperClass) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar modelsAttr = meta.wrapperClass.getRelatedModels();\r\n\t\t\tfor(var i=0; i<modelsAttr.length; i++) {\r\n\t\t\t\tmodels.push(modelsAttr[i]);\t\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\r\n\t\treturn models;\r\n\t}\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wrappers/object.js\n ** module id = 15\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Wrapper = require('./wrapper');\r\n\r\nvar StringWrapper = module.exports = Wrapper.extend({\r\n\t//set value\r\n\t_serialize: function(value) {\r\n\t\treturn String(value);\r\n\t},\r\n\r\n\t//get value\r\n\t_deserialize: function(value) {\r\n\t\treturn value;\r\n\t}\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wrappers/string.js\n ** module id = 16\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Wrapper = require('./wrapper');\r\n\r\nvar NumberWrapper = module.exports = Wrapper.extend({\r\n\t//set value\r\n\t_serialize: function(value) {\r\n\t\treturn Number(value);\r\n\t},\r\n\r\n\t//get value\r\n\t_deserialize: function(value) {\r\n\t\treturn value;\r\n\t},\r\n\r\n\tisNaN: function() {\r\n\t\treturn isNaN(this.get('value'));\r\n\t}.property('value').readOnly()\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wrappers/number.js\n ** module id = 17\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Wrapper = require('./wrapper');\r\n\r\nvar BooleanWrapper = module.exports = Wrapper.extend({\r\n\t//set value\r\n\t_serialize: function(value) {\r\n\t\tif(typeof value === 'string') {\r\n\t\t\tvalue = value.toLowerCase();\r\n\t\t\tif(value==='true' || value==='yes' || value==='1') {\r\n\t\t\t\treturn true;\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn Boolean(value);\r\n\t},\r\n\r\n\t//get value\r\n\t_deserialize: function(value) {\r\n\t\treturn value;\r\n\t}\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wrappers/boolean.js\n ** module id = 18\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Wrapper = require('./wrapper');\r\n\r\nvar DateWrapper = module.exports = Wrapper.extend({\r\n\t//set value\r\n\t_serialize: function(value) {\r\n\t\treturn new Date(value);\r\n\t},\r\n\r\n\t//get value\r\n\t_deserialize: function(value) {\r\n\t\treturn value.toString();\r\n\t}\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wrappers/date.js\n ** module id = 19\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Wrapper = require('./wrapper');\r\n\r\nvar ModelWrapper = module.exports = Wrapper.extend({\r\n\tasync: true,\r\n\r\n\t//set value\r\n\t_serialize: function(value) {\r\n\t\tvar _this = this;\r\n\r\n\t\t//load computed property imadiately\r\n\t\tif(!this.get('async')) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_this.get('computed');\r\n\t\t\t}, 0);\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t},\r\n\r\n\t//get value\r\n\t_deserialize: function(value) {\r\n\t\treturn value;\r\n\t},\r\n\r\n\t//retrive promise\r\n\tcomputed: function() {\r\n\t\tvar value = this.get('value');\r\n\t\tvar model = this.get('model');\r\n\r\n\t\tif(!model || !model.find) {\r\n\t\t\tthrow new Error('Model is not defined or has no implemented method find');\r\n\t\t}\r\n\r\n\t\treturn model.find(value);\r\n\t}.property('value').readOnly(),\r\n\r\n\tmodel: function() {\r\n\t\treturn this.constructor.model;\r\n\t}.property()\r\n});\r\n\r\n\r\nModelWrapper.reopenClass({\r\n\tmodel: null,\r\n\tisModelWrapper: true,\r\n\r\n\tgetRelatedModels: function() {\r\n\t\tif(!this.model) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\treturn [this.model];\r\n\t}\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wrappers/model.js\n ** module id = 20\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Ember = require('ember'),\r\n\tWrapper = require('./wrapper'),\r\n\tModelWrapper = require('./model'),\r\n\tMixedWrapper = require('./mixed'),\r\n\tModel = require('../model');\r\n\r\nvar ArrayWrapper = module.exports = Wrapper.extend(Ember.MutableArray, {\r\n\tasync: true,\r\n\tdirtyCount: 0,\r\n\tdirtyNames: [],\r\n\r\n\tuseSetupData: false,\r\n\r\n\tcopy: function() {\r\n\t\tproperties = ['value', 'original', 'defaultValue', \r\n\t\t\t'readOnly', 'async',\r\n\t\t\t'canBeNull', 'canBeUndefined', \r\n\t\t\t'handleNull', 'handleUndefined'];\r\n\r\n\t\treturn this.constructor.create(this.getProperties(properties));\r\n\t},\r\n\r\n\tinit: function() {\r\n\t\tvar wrapperClass = this.get('wrapperClass');\r\n\t\tif(!wrapperClass) {\r\n\t\t\tthrow new Error('WrapperClass is undefined');\r\n\t\t}\r\n\r\n\t\tthis.setProperties({\r\n\t\t\toriginal: [],\r\n\t\t\t'__defaultValue': []\r\n\t\t});\r\n\r\n\t\tthis._super();\r\n\r\n\t\t//recompute dirty\r\n\t\tthis.propertyDidChange('value');\r\n\t},\r\n\r\n\t//set value\r\n\t_serialize: function(items) {\r\n\t\tvar wrapperClass = this.get('wrapperClass');\r\n\t\tif(!wrapperClass) {\r\n\t\t\tthrow new Error('Array wrapperClass is not defined');\r\n\t\t}\r\n\r\n\t\tif(Ember.typeOf(items) !== 'array') {\r\n\t\t\tthrow new Error('Items is not an array');\r\n\t\t}\r\n\r\n\t\tvar newItems = Ember.A([]);\r\n\t\tfor(var i=0; i<items.length; i++) {\r\n\t\t\tvar item = items[i];\r\n\r\n\t\t\tif(this.useSetupData) {\r\n\t\t\t\tvar newItem = wrapperClass.create({\r\n\t\t\t\t\tparent: this\r\n\t\t\t\t});\r\n\r\n\t\t\t\tnewItem.setupData(item);\r\n\t\t\t} else {\r\n\t\t\t\tvar newItem = wrapperClass.create({\r\n\t\t\t\t\tparent: this\r\n\t\t\t\t});\t\r\n\r\n\t\t\t\tnewItem.set('value', item);\r\n\t\t\t}\r\n\r\n\t\t\tnewItems.pushObject(newItem);\r\n\t\t}\r\n\r\n\t\t//load computed property imadiately\r\n\t\tif(!this.get('async')) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_this.get('computed');\t\r\n\t\t\t}, 0);\t\t\t\r\n\t\t}\r\n\r\n\t\treturn newItems;\r\n\t},\r\n\r\n\t//get value\r\n\t_deserialize: function(items) {\r\n\t\tvar newItems = [];\r\n\r\n\t\tfor(var i=0; i<items.length; i++) {\r\n\t\t\tnewItems.push(items[i].get('value'));\r\n\t\t}\r\n\r\n\t\treturn newItems;\r\n\t},\r\n\r\n\t/*Ember.Enumerable mixin*/\r\n\tlength: function() {\r\n\t\tvar items = this.get('__value');\r\n\t\treturn (items && items.length) ? items.length : 0;\r\n\t}.property('value').readOnly(),\r\n\t\r\n\t/*Ember.Array mixin*/\r\n\tobjectAt: function(idx) {\r\n\t\tvar items = this.get('__value');\r\n\t\treturn (items && idx<items.length) ? items[idx].get('value') : void 0;\r\n  \t},\r\n\r\n  \treplace: function(idx, amt, objects) {\r\n  \t\tif(this.get('readOnly')) {\r\n\t\t\tthrow new Error('Variable is read only');\r\n\t\t}\r\n\r\n  \t\tobjects = objects || Ember.A([]);\r\n  \t\tobjects = this._preSerialize(objects);\r\n\r\n  \t\tvar items = this.get('__value') || Ember.A([]);\r\n\r\n\t\tvar len = objects.get('length');\r\n\t\tthis.arrayContentWillChange(idx, amt, len);\r\n\t\tthis.propertyWillChange('__value');\r\n\r\n\t\tif (len === 0) {\r\n\t\t\titems.splice(idx, amt);\r\n    \t} else {\r\n      \t\tEmber.EnumerableUtils.replace(items, idx, amt, objects);\r\n    \t}\r\n\r\n    \tthis.propertyDidChange('__value');\r\n    \tthis.arrayContentDidChange(idx, amt, len);\r\n\r\n    \tthis.childChanged(objects[0]);\r\n\r\n    \treturn this;\r\n  \t},\r\n\r\n  \tisDirty: function() {\r\n\t\treturn this.get('dirtyCount')>0;\r\n\t}.property('dirtyCount').readOnly(),\r\n\r\n  \tcomputed: function() {\r\n  \t\tvar items = this.get('value');\r\n  \t\tvar wrapperClass = this.get('wrapperClass');\r\n\r\n  \t\tif(wrapperClass && wrapperClass.isModelWrapper) {\r\n  \t\t\treturn wrapperClass.model.findMany(items);\r\n  \t\t}\r\n\r\n  \t\treturn items;\r\n  \t}.property('value', 'wrapperClass').readOnly(),\r\n\r\n  \twrapperClass: function() {\r\n\t\treturn this.constructor.wrapperClass;\r\n\t}.property().readOnly(),\r\n\r\n\r\n\tchildChanged: function(child) {\r\n\t\tvar dirtyCount = 0;\r\n\t\tvar dirtyNames = [];\r\n\t\tvar items = this.get('__value') || Ember.A([]);\r\n\r\n\t\tfor(var i=0; i<items.length; i++) {\r\n\t\t\tvar wrapper = items[i];\r\n\r\n\t\t\tif(wrapper === child) {\r\n\t\t\t\t//notify base object about changes\r\n\t\t\t\t//this.arrayContentDidChange(i, amt, len);\r\n\t\t\t\tthis.propertyDidChange(i);\r\n\t\t\t}\r\n\r\n\t\t\tif(!wrapper.get('isDirty')) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tdirtyCount++;\r\n\t\t\tdirtyNames.push(i);\r\n\t\t}\r\n\r\n\t\tthis.setProperties({\r\n\t\t\tdirtyCount: dirtyCount,\r\n\t\t\tdirtyNames: dirtyNames\r\n\t\t});\r\n\r\n\t\t//notify parent\r\n\t\tvar parent = this.get('parent');\r\n\t\tif(!parent) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tparent.childChanged(this);\t\r\n\t},\r\n\r\n\trollback: function() {\r\n\t\tthis._super();\r\n\r\n\t\t//notify childs\r\n\t\tvar items = this.get('__value') || Ember.A([]);\r\n\t\tfor(var i=0; i<items.length; i++) {\r\n\t\t\titems[i].rollback();\r\n\t\t}\r\n\t},\r\n\r\n\tsetAsOriginal: function() {\r\n\t\tthis._super();\r\n\r\n\t\t//notify childs\r\n\t\tvar items = this.get('__value') || Ember.A([]);\r\n\t\tfor(var i=0; i<items.length; i++) {\r\n\t\t\titems[i].setAsOriginal();\r\n\t\t}\r\n\t},\r\n\r\n\tsetupData: function(data, partial) {\r\n\t\tthis.useSetupData = true;\r\n\t\tthis._super(data, partial);\r\n\t\tthis.useSetupData = false;\r\n\t}\r\n});\r\n\r\nArrayWrapper.reopenClass({\r\n\twrapperClass: MixedWrapper\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wrappers/array.js\n ** module id = 21\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar Ember = require('ember'),\r\n\tDataLight = require('./index');\r\n\r\nvar JSONSerializer = module.exports = DataLight.JSONSerializer = Ember.Object.extend({\r\n\tserialize: function(Model, record, options) {\r\n\t\tvar isNew = record.get('isNew');\r\n\t\t\r\n\t\treturn record.toJSON(function(key, wrapper) {\r\n\t\t\tif(wrapper.get('readOnly')) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tdeserialize: function(Model, record, content, isArray, includedModels) {\r\n\t\tisArray = isArray || false;\r\n\r\n\t\tvar field = this.fieldForType(Model, isArray),\r\n\t\t\tmodelData = content[field];\r\n\r\n\t\tthis.deserializeRelationships(Model, content, includedModels);\r\n\r\n\t\tif(isArray) {\r\n\t\t\treturn this._deserializeArray(Model, modelData, content);\r\n\t\t}\r\n\r\n\t\tif(record) {\r\n\t\t\treturn this._deserializeRecord(record, modelData, content);\r\n\t\t}\r\n\t\t\r\n\t\treturn this._deserializeSingle(Model, modelData, content);\r\n\t},\r\n\r\n\t_deserializeRecord: function(record, modelData, content) {\r\n\t\trecord.setupData(modelData, false, true);\r\n\t\trecord.set('content', content);\r\n\r\n\t\treturn record;\r\n\t},\t\r\n\r\n\t_deserializeSingle: function(Model, modelData, content) {\r\n\t\tvar model = Model.buildRecord(modelData);\r\n\t\tmodel.set('content', content);\r\n\r\n\t\treturn model;\r\n\t},\r\n\r\n\t_deserializeArray: function(Model, modelDatas, content) {\r\n\t\tvar models = [];\r\n\r\n\t\tfor(var i=0; i<modelDatas.length; i++) {\r\n\t\t\tmodels.push(this._deserializeSingle(Model, modelDatas[i], content, true));\r\n\t\t}\r\n\t\r\n\t\treturn models;\r\n\t},\r\n\r\n\tdeserializeRelationships: function(Model, content, includedModels) {\r\n\t\tvar _this = this,\r\n\t\t\tused = {};\r\n\r\n\t\tif(!content) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar models = Model.getRelatedModels(includedModels);\r\n\r\n\t\tfor(var i=0; i<models.length; i++) {\r\n\t\t\tvar RelatedModel = models[i];\r\n\r\n\t\t\tvar type = _this.fieldForType(RelatedModel);\r\n\t\t\tvar typeArray = _this.fieldForType(RelatedModel, true);\r\n\r\n\t\t\tif(type && content[type]) {\r\n\t\t\t\tRelatedModel.buildRecord(content[type]);\r\n\t\t\t}\r\n\r\n\t\t\tif(typeArray && content[typeArray]) {\r\n\t\t\t\tvar data = content[typeArray];\r\n\r\n\t\t\t\tfor(var j=0; j<data.length; j++) {\r\n\t\t\t\t\tRelatedModel.buildRecord(data[j]);\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tfieldForType: function(Model, isArray) {\r\n\t\tif(!Model.type) {\r\n\t\t\tthrow new Error('Model type is undefined');\r\n\t\t}\r\n\r\n\t\tif(isArray && Model.typePlural) {\r\n\t\t\treturn Model.typePlural;\r\n\t\t}\r\n\r\n\t\treturn isArray ? Model.type+'s' : Model.type;\r\n\t}\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/jsonserializer.js\n ** module id = 22\n ** module chunks = 0\n **/","(function (root) {\r\n\t'use strict';\r\n\r\n\tfunction BaseError (message, constructorOpt) {\r\n\t\tthis.captureStackTrace(constructorOpt || BaseError);\r\n\t\tthis.message = message;\r\n\t}\r\n\r\n\tBaseError.prototype = new Error(); \r\n\tBaseError.prototype.name = 'BaseError';\r\n\r\n\tBaseError.prototype.captureStackTrace = function(constructorOpt) {\r\n\t\tif(Error.captureStackTrace) {\r\n\t\t\tError.captureStackTrace(this, constructorOpt);\r\n\t\t} else {\r\n\t\t\tvar err = new Error();\r\n\t\t\tthis.stack = err.stack;\r\n\t\t}\r\n\t};\r\n\r\n\t//Exports\r\n\t//AMD\r\n\tif (typeof define !== 'undefined' && define.amd) {\r\n\t\tdefine([], function () {\r\n\t\t\treturn BaseError;\r\n\t\t});\r\n\t}\r\n\r\n\t//CommonJS\r\n\telse if (typeof module !== 'undefined' && module.exports) {\r\n\t\tmodule.exports = BaseError;\r\n\t}\r\n\r\n\t//Script tag\r\n\telse {\r\n\t\troot.BaseError = BaseError;\r\n\t}\r\n\r\n} (this));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/web-error/~/base-error/index.js\n ** module id = 23\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"ember-datalight.js"}